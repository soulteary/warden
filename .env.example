# Warden 环境变量配置示例
# 
# 使用说明：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际情况填写各项配置值
# 3. 不要将 .env 文件提交到版本控制系统
#
# 注意：敏感信息（如 API keys、密码等）应使用环境变量，不要硬编码在代码中

# 服务器配置
PORT=8081

# Redis 配置
REDIS=warden-redis:6379
# 是否启用 Redis（可选，默认 true；ONLY_LOCAL 且未设 REDIS 时默认 false）
# REDIS_ENABLED=true
# Redis 密码（可选，建议使用环境变量而不是配置文件）
# REDIS_PASSWORD=your-redis-password
# 或使用密码文件（更安全）；整体优先级：REDIS_PASSWORD > REDIS_PASSWORD_FILE > 配置文件
# REDIS_PASSWORD_FILE=/path/to/redis-password.txt

# 远程配置 API
CONFIG=http://example.com/api/config.json
# 远程配置 API 认证密钥
KEY=Bearer your-token-here

# 任务配置
INTERVAL=5

# 应用模式
# 可选值: DEFAULT, REMOTE_FIRST, ONLY_REMOTE, ONLY_LOCAL, LOCAL_FIRST, 
#         REMOTE_FIRST_ALLOW_REMOTE_FAILED, LOCAL_FIRST_ALLOW_REMOTE_FAILED
MODE=DEFAULT

# HTTP 客户端配置（可选）
# HTTP_TIMEOUT=5
# HTTP_MAX_IDLE_CONNS=100
# HTTP_INSECURE_TLS=false

# 本地用户数据文件路径（默认: ./data.json）
# DATA_FILE=./data.json
# 本地用户数据目录（可选）：合并该目录下所有 *.json，可与 DATA_FILE 同时使用
# DATA_DIR=/path/to/data/dir

# API 响应字段白名单（可选，逗号分隔；空=返回全部）。如 phone,mail,user_id,status,scope,role,name
# RESPONSE_FIELDS=

# 远程 API 加密响应解密（可选）
# REMOTE_DECRYPT_ENABLED=false
# REMOTE_RSA_PRIVATE_KEY_FILE=/path/to/private.pem
# 或使用内联 PEM（未设置 FILE 时生效）：REMOTE_RSA_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----..."
# REMOTE_RSA_PRIVATE_KEY=

# API Key（用于 API 认证，生产环境必须设置）
# API_KEY=your-api-key-here

# 配置文件路径（可选；用于在不使用 --config-file 时从 YAML 加载 tracing 等）
# CONFIG_FILE=config.yaml

# OpenTelemetry 追踪（可选）
# OTLP_ENABLED=false
# OTLP_ENDPOINT=http://localhost:4318

# 日志级别（可选: trace, debug, info, warn, error, fatal, panic）
# LOG_LEVEL=info

# 健康检查 IP 白名单（可选，逗号分隔，支持 CIDR）
# HEALTH_CHECK_IP_WHITELIST=127.0.0.1,::1,10.0.0.0/8

# 全局 IP 白名单（可选，逗号分隔，支持 CIDR）
# IP_WHITELIST=192.168.1.0/24

# 信任的代理 IP 列表（可选，逗号分隔，用于反向代理环境）
# TRUSTED_PROXY_IPS=127.0.0.1,10.0.0.1

# 服务间鉴权（仅环境变量，无 YAML 配置项）
# WARDEN_HMAC_KEYS='{"key-id":"secret"}'
# WARDEN_HMAC_TIMESTAMP_TOLERANCE=60
# WARDEN_TLS_CERT=/path/to/warden.crt
# WARDEN_TLS_KEY=/path/to/warden.key
# WARDEN_TLS_CA=/path/to/ca.crt
# WARDEN_TLS_REQUIRE_CLIENT_CERT=true